(this["webpackJsonpexchange-app"]=this["webpackJsonpexchange-app"]||[]).push([[0],{15:function(e,t,n){e.exports=n(44)},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),u=n.n(c),o=n(3),l=n(1),i=n(2),s=n.n(i),m=n(7),f=n(14),v=[{currency:"USD",name:"US-Dollar"},{currency:"EUR",name:"Euro"},{currency:"GBP",name:"Pound"}],g=Object(l.atomFamily)({key:"pocketState",default:0}),b=Object(l.atom)({key:"amountState",default:[0,0]}),y=Object(l.atom)({key:"currencyState",default:["USD","EUR"]}),p=Object(l.atomFamily)({key:"exchangeState",default:[]}),O=function(e){var t=e?0:1,n=e?"currencyOriginState":"currencyDestinationState";return Object(l.selector)({key:n,get:function(e){return(0,e.get)(y)[t]},set:function(e,n){var r=e.set,a=e.get;if(n instanceof l.DefaultValue)return r(y,n);var c=Array.from(a(y));if(c.includes(n))return r(y,Array.from(a(y)).reverse()),r(b,Array.from(a(b)).reverse());c[t]=n,r(y,c)}})},E=O(!0),j=O(!1),d=Object(l.selector)({key:"pocketListState",get:function(e){var t=e.get;return v.map((function(e){var n=t(g(e.currency));return Object(f.a)({},e,{amount:n||0})}))}}),k=Object(l.selector)({key:"exchangeEnabledState",get:function(e){var t=e.get,n=t(b)[0],r=t(P)||0;return n>0&&r>n}}),S=Object(l.selector)({key:"exchangeRateState",get:function(e){var t,n=e.get,r=n(E),a=n(j);return(null===(t=n(p(r)).find((function(e){return e.currency===a})))||void 0===t?void 0:t.value)||1}}),h=function(e){var t=e?0:1,n=e?"amountOriginState":"amountDestinationState";return Object(l.selector)({key:n,get:function(e){return(0,e.get)(b)[t]},set:function(t,n){var r=t.set,a=t.get;if(n instanceof l.DefaultValue)return r(b,n);var c=a(S);r(b,e?[n,n*c]:[n/c,n])}})},R=h(!0),x=h(!1),C=function(e){var t=e?E:j,n=e?"pocketOriginState":"pocketDestinationState";return Object(l.selector)({key:n,get:function(e){var n=e.get;return n(g(n(t)))},set:function(e,n){var r=e.set,a=e.get;return r(g(a(t)),n)}})},P=C(!0),D=C(!1),V=function(e){var t=e.set,n=e.snapshot;return Object(m.a)(s.a.mark((function e(){var r,a,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPromise(P);case 2:return r=e.sent,e.next=5,n.getPromise(D);case 5:return a=e.sent,e.next=8,n.getPromise(R);case 8:return c=e.sent,e.next=11,n.getPromise(x);case 11:u=e.sent,t(P,r-c),t(D,a+u),t(R,0),t(x,0);case 16:case"end":return e.stop()}}),e)})))},w=function(e){var t=e.set,n=e.snapshot;return Object(m.a)(s.a.mark((function e(){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPromise(y);case 2:return r=e.sent,e.next=5,n.getPromise(b);case 5:a=e.sent,t(y,Array.from(r).reverse()),t(b,Array.from(a).reverse());case 8:case"end":return e.stop()}}),e)})))},U=function(){return!1},A=function(e){var t=e.onChange,n=void 0===t?U:t,r=e.currency,c=Object(l.useRecoilValue)(d),u=Object(l.useRecoilValue)(g(r));return a.a.createElement("div",null,a.a.createElement("select",{value:r,onChange:function(e){return n(e.currentTarget.value)}},c.map((function(e){var t=r!==e.currency;return a.a.createElement("option",{value:e.currency,key:e.currency},e.name," ",t&&"- ".concat(e.amount))}))),u)},B=function(){var e=Object(l.useRecoilValue)(k),t=Object(l.useRecoilCallback)(V);return a.a.createElement("button",{onClick:t,disabled:!e},"Exchange")},F=function(e){var t=e.onChange,n=void 0===t?U:t,r=e.amount;return a.a.createElement("input",{type:"number",value:r,onChange:function(e){var t=e.currentTarget.value,r=parseFloat(t)||0;n(r)}})},G=function(){var e=Object(l.useRecoilValue)(S),t=Object(l.useRecoilValue)(E),n=Object(l.useRecoilValue)(j);return a.a.createElement("span",null,"1 ",t," = ",e," ",n)},J=function(){var e=Object(l.useRecoilCallback)(w);return a.a.createElement("button",{onClick:e},"Swap Pockets")},T=function(){var e=Object(l.useRecoilState)(E),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(l.useRecoilState)(j),u=Object(o.a)(c,2),i=u[0],s=u[1],m=Object(l.useRecoilState)(R),f=Object(o.a)(m,2),v=f[0],g=f[1],b=Object(l.useRecoilState)(x),y=Object(o.a)(b,2),p=y[0],O=y[1];return a.a.createElement("div",null,a.a.createElement("h1",null,"Exchange App"),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(A,{currency:n,onChange:r}),a.a.createElement(F,{amount:v,onChange:g})),a.a.createElement("div",null,a.a.createElement(J,null),a.a.createElement(G,null)),a.a.createElement("div",null,a.a.createElement(A,{currency:i,onChange:s}),a.a.createElement(F,{amount:p,onChange:O})),a.a.createElement(B,null))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(l.RecoilRoot,{initializeState:function(e){var t=e.set;t(g("EUR"),100),t(g("USD"),50),t(g("GBP"),0)}},a.a.createElement(T,null))),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fb52ddd9.chunk.js.map